# GPTogether - NLP

The NLP part leverages **semantic similarity search** in several scenarios: for suggesting **auto-complete** while typing suggestions, for **user-to-user** similarity and for finding **similar conversations** for a given conversation or a list of prompts. The auto-complete similarities are implemented by cosine similarities of unit vectors, generated by an open source model `Muennighoff/SGPT`. For more details see: `utils/ai.py`.


## Getting Started

In order to get started with the project, please follow the steps outlined below. The NLP module is used by the `backend` project and is dependent on api calls to the backend project and to a `PostgreSQL` database. The project combines demo/cold-start data for a prompt collection and artificially generated users (by `KMeans` clustering)

### Prerequisites

Before you can start working with the project, you will need to have the following installed on your system. All of the below assumes you've cloned the entire repository and are in the `nlp` directory:

### Installing

To install the project, please follow the steps below:

1. Clone the repository:

```bash
git clone https://github.com/sepana-io/gptogether
cd gptogether/nlp
```

2. Navigate to the folder:

```bash
sh install.sh
```

3. Create `.env` file and set the variables in the `.env` file

```bash
cp env_template .env

vim .env
# fill in all environment values for each key
```

4. Enter the python virtual environment

```bash
source venv/bin/activate
```

5. Init the project

```bash
python init.py
```

6. Start the Flask app:

```bash
python app.py
```

The NLP is accessible locally over http://localhost:8678

### APIs exposed:

```bash
curl -X POST http://localhost:8678/api -H 'Content-Type: application/json' -d '{"query": "Alternative browser to test my website"}'
curl -X POST http://localhost:8678/api/users -H 'Content-Type: application/json' -d '{"user_id_external": "w14xCuoHWAP5euWqIiCWumpv2cs1"}'

curl -X POST http://localhost:8678/api/similar_conversations -H 'Content-Type: application/json' -d '{"storage_index": "ef87b86a-dfad-4fe2-ac7d-fc7ade36830f_w14xCuoHWAP5euWqIiCWumpv2cs1"}'
curl -X POST http://localhost:8678/api/similar_conversations_by_prompts -H 'Content-Type: application/json' -d '{"prompts": ["Does Web3 and NFTs have any future at all?", "Which is the strongest crypto currency currently?", "I am pivoting away from a Blockchain search infrastructure company - help give me ideas"]}'
```
